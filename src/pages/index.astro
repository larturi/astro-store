---
import '@/styles/global.css'
import { getSession } from 'auth-astro/server'
import MainLayout from '@/layouts/MainLayout.astro'

export const prerender = false

const session = await getSession(Astro.request)

const { user } = session ?? {}
---

<MainLayout>
  <h1 class='text-3xl'>Home Page</h1>

  <div class='mt-3'>
    {
      user ? (
        <span>Welcome back, {user.name}!</span>

        <p>Email: {user.email}</p>
      ) : (
        <span>You are not logged in.</span>
      )
    }
  </div>
</MainLayout>
